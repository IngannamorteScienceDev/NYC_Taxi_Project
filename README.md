# NYC Taxi Demand Forecasting

Этот проект направлен на прогнозирование спроса на такси в Нью-Йорке с использованием Prophet. Реализован полный конвейер обработки данных: EDA, предобработка, агрегация, моделирование и оценка прогноза на основе данных NYC TLC за 2024 год и январь 2025.

## Структура проекта

```
NYC_Taxi_Project/
├── data/
│   ├── yellow_tripdata_2024-01.parquet
│   ├── ... (файлы за остальные месяцы 2024)
│   └── yellow_tripdata_2025-01.parquet
├── src/
│   ├── __init__.py
│   ├── eda.py                  # Объединяет и анализирует данные
│   ├── preprocessing.py        # Предобработка: заполнение пропусков, корректировка выбросов
│   ├── aggregation.py          # Агрегация данных по дням (или часам)
│   ├── modeling.py             # Моделирование и прогнозирование с Prophet
│   └── evaluation.py           # Оценка прогноза (MAE, RMSE, MAPE) и визуализация
├── main.py                     # Главный скрипт: объединяет все этапы обработки и прогнозирования
├── requirements.txt            # Зависимости проекта
└── README.md                   # Это описание проекта
```

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/YourUsername/NYC_Taxi_Project.git
   cd NYC_Taxi_Project
   ```
2. **Создайте виртуальное окружение и активируйте его:**
   ```bash
   python -m venv .venv
   # Для Windows:
   .venv\Scripts\activate
   # Для Unix/macOS:
   source .venv/bin/activate
   ```
3. **Установите зависимости:**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```
4. **Скопируйте файлы данных (Parquet) за 2024 год и январь 2025 в папку `data/`.**

## Использование

Запустите полный конвейер:
```bash
python main.py
```
Скрипт:
- Объединит данные из всех файлов.
- Выполнит первичный анализ (EDA).
- Предобработает и агрегирует данные по дням.
- Разделит данные на тренировочную и тестовую выборки.
- Обучит модель Prophet и построит прогноз на тестовый период, выведет метрики.
- Обучит модель на полном датасете и спрогнозирует будущее.

## Идеи для улучшения

- **Тонкая настройка гиперпараметров Prophet:** Используйте кросс-валидацию для оптимизации `changepoint_prior_scale`, `seasonality_prior_scale` и др.
- **Добавление регрессоров:** Включите внешние факторы (погода, праздники и т.д.) через `model.add_regressor`.
- **Почасовая агрегация:** Если требуется детальное прогнозирование по часам, используйте `aggregate_hourly`.
- **Оптимизация обработки:** При очень больших объемах данных рассмотрите использование Dask или PySpark.

## Лицензия

Этот проект распространяется по лицензии [MIT](LICENSE).

---

**Спасибо за интерес к проекту!**  
Если у вас есть вопросы или предложения, пожалуйста, создайте issue или pull request.
```
